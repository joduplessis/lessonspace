(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8952:function(e,s,t){Promise.resolve().then(t.bind(t,8275))},8275:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var i=t(7437),n=t(5586);t(8634);var a=t(2265);let r=e=>{let{users:s=[],onAdd:t,onDelete:r,availableUsers:l=[],onUserFilter:o,onDismiss:u}=e,c=(0,a.useMemo)(()=>s.map(e=>e.id),[s]),d=(0,a.useMemo)(()=>l.map(e=>({key:e.id,label:e.name,prefix:(0,i.jsx)(n.Avatar,{src:e.image,name:e.name,size:"xs"})})),[l]),m=e=>{let i=l.find(s=>s.id==e.key);s.find(s=>s.id==e.key)?i&&r(i):i&&t(i)};return(0,n.useEvent)("keydown",e=>{let{isEscape:s}=(0,n.getKey)(e);s&&u()}),(0,i.jsx)(n.Select,{tagInput:!0,variant:"static",noListFocus:!0,trapFocus:!0,placeholder:"Add user",selected:c,options:d,filterDelay:1e3,selectListProps:{noOptionsComponent:(0,i.jsx)(n.Text,{p:"var(--f-select-option-padding)",children:"No users available"})},tagInputFieldProps:{onKeyDown:e=>{let{isBackspace:t}=(0,n.getKey)(e);t&&!e.target.value?(r(s[s.length-1]),o("")):e.target.value||o("")}},onSelect:(e,s,t)=>{t(),m(e)},onFilter:o,render:()=>s.map((e,s)=>(0,i.jsx)(n.Pill,{subtle:!0,size:"sm",prefix:(0,i.jsx)(n.Avatar,{src:e.image,name:e.name,size:"xs"}),suffix:(0,i.jsx)(n.IconLib,{icon:"x",className:"f-buttonize",onClick:()=>r(e)}),children:e.name},s))})};function l(){let{visible:e,show:s,hide:t}=(0,n.useVisibility)(!1),[l,o]=(0,a.useState)([]),[u,c]=(0,a.useState)([]),d=async e=>{let s=await fetch("https://dummyjson.com/users"),{users:t,total:i,skip:n,limit:a}=await s.json();t&&o(t.map(e=>({id:e.id,name:e.firstName+" "+e.lastName,image:e.image})).filter(s=>s.name.toLowerCase().includes(e.toLowerCase())))};return(0,a.useEffect)(()=>{d("")},[]),(0,i.jsxs)(n.View,{p:"2rem",children:[(0,i.jsx)(n.Popover,{width:300,border:"none",isVisible:e,onDismiss:t,content:(0,i.jsx)(r,{availableUsers:l,onUserFilter:d,users:u,onAdd:e=>{c([...u,e])},onDelete:e=>{c(u.filter(s=>e.id!=s.id))},onDismiss:t}),children:(0,i.jsxs)(n.View,{width:"fit-content",radius:"var(--f-radius-full)",className:"f-buttonize-outline",children:[(0,i.jsx)(n.AvatarGroup,{onClick:s,children:u.map((e,s)=>(0,i.jsx)(n.Avatar,{name:e.name,src:e.image,style:{border:"2px solid var(--f-color-surface)"}},s))}),!u.length&&(0,i.jsx)(n.Avatar,{onClick:s,children:(0,i.jsx)(n.Icon,{icon:n.FIPlus,size:"sm"})})]})}),(0,i.jsx)(n.View,{height:"2rem"}),(0,i.jsx)(n.DarkModeToggle,{})]})}function o(){let[e,s]=(0,a.useState)(!1);return((0,a.useEffect)(()=>s(!0),[]),e)?(0,i.jsx)(n.FoldProvider,{children:(0,i.jsx)(l,{})}):null}}},function(e){e.O(0,[791,48,971,23,744],function(){return e(e.s=8952)}),_N_E=e.O()}]);